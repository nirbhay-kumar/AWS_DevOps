CloudFormation â€“ AWS CLI Commands
âœ… 1. Create a Stack
aws cloudformation create-stack \
  --stack-name MyStack \
  --template-body file://template.yaml \
  --parameters ParameterKey=Env,ParameterValue=Prod \
  --capabilities CAPABILITY_NAMED_IAM

âœ… 2. Update a Stack
aws cloudformation update-stack \
  --stack-name MyStack \
  --template-body file://template.yaml \
  --parameters ParameterKey=Env,ParameterValue=Prod \
  --capabilities CAPABILITY_NAMED_IAM

â— 3. Deploy (recommended for CI/CD â€“ automatically creates/updates)
aws cloudformation deploy \
  --stack-name MyStack \
  --template-file template.yaml \
  --parameter-overrides Env=Prod \
  --capabilities CAPABILITY_NAMED_IAM

âŒ 4. Delete a Stack
aws cloudformation delete-stack \
  --stack-name MyStack

ðŸ“„ 5. Describe a Stack
aws cloudformation describe-stacks \
  --stack-name MyStack

ðŸ§¾ 6. List Stacks
aws cloudformation list-stacks

ðŸ“œ 7. List Stack Resources
aws cloudformation list-stack-resources \
  --stack-name MyStack

ðŸ” 8. Describe Stack Events
aws cloudformation describe-stack-events \
  --stack-name MyStack

ðŸ› ï¸ 9. Validate a Template
Using a local file:
aws cloudformation validate-template \
  --template-body file://rds-protected.yaml

Using S3:
aws cloudformation validate-template \
  --template-url https://s3.amazonaws.com/bucket/template.yaml

ðŸ“¦ 10. Package a Template (for Lambda, S3 uploads)
aws cloudformation package \
  --template-file template.yaml \
  --s3-bucket my-bucket \
  --output-template-file packaged.yaml

ðŸ“¦âž¡ï¸â˜ï¸ 11. Package + Deploy (Common in CI/CD)
aws cloudformation package \
  --template-file template.yaml \
  --s3-bucket my-bucket \
  --output-template-file packaged.yaml

aws cloudformation deploy \
  --template-file packaged.yaml \
  --stack-name MyStack \
  --capabilities CAPABILITY_NAMED_IAM

ðŸ”„ 12. Continue Rollback
aws cloudformation continue-update-rollback \
  --stack-name MyStack

ðŸ” 13. Get Template (download existing template from a deployed stack)
aws cloudformation get-template \
  --stack-name MyStack \
  --query "TemplateBody" \
  --output text > downloaded-template.yaml


